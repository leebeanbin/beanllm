# ===========================================
# beanllm Playground Backend Environment Variables
# ===========================================
# Copy this file to .env and fill in your values
# cp .env.example .env

# ===========================================
# Server Configuration
# ===========================================
HOST=0.0.0.0
PORT=8000
DEBUG=false
LOG_LEVEL=INFO

# ===========================================
# Frontend URL (CORS)
# ===========================================
FRONTEND_URL=http://localhost:3000

# ===========================================
# Deployment Mode
# ===========================================
# docker: Docker Compose로 MongoDB/Redis 실행 (기본값)
# local: 로컬에 설치된 MongoDB/Redis 사용
DEPLOYMENT_MODE=docker

# ===========================================
# MongoDB Configuration
# ===========================================
# Docker 모드 (기본값):
MONGODB_URI=mongodb://beanllm:beanllm_secret@localhost:27017/beanllm?authSource=admin

# 로컬 모드 (DEPLOYMENT_MODE=local):
# MONGODB_URI=mongodb://localhost:27017/beanllm

MONGODB_DATABASE=beanllm

# ===========================================
# Redis Configuration
# ===========================================
# Docker 모드와 로컬 모드 모두 localhost 사용 (포트 포워딩)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Enable Redis for monitoring (metrics, caching)
USE_REDIS_MONITORING=true

# §0 메시징 적극 활용: true 이면 /api/* 전부 Redis 메트릭(requests/errors/response_time/endpoint) 기록
RECORD_METRICS_FOR_ALL_API=false

# 챗 상세 이력(CHAT_HISTORY_METRICS.md): 상시 수집(env 없음). true 이면 요청/응답 미리보기만 마스킹
CHAT_HISTORY_MASK_PREVIEW=false

# ===========================================
# Kafka Configuration
# ===========================================
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_TOPIC_PREFIX=beanllm

# Enable distributed features (Kafka + Redis)
USE_DISTRIBUTED=false

# If using docker-compose:
# KAFKA_BOOTSTRAP_SERVERS=kafka:29092

# ===========================================
# LLM Provider API Keys
# ===========================================
# These can also be managed dynamically via the UI

# OpenAI
OPENAI_API_KEY=sk-...

# Anthropic (Claude)
ANTHROPIC_API_KEY=sk-ant-...

# Google AI (Gemini)
GOOGLE_API_KEY=
GEMINI_API_KEY=

# DeepSeek
DEEPSEEK_API_KEY=

# Perplexity
PERPLEXITY_API_KEY=

# Ollama (Local LLM)
OLLAMA_HOST=http://localhost:11434

# ===========================================
# Vector Store API Keys
# ===========================================
# Pinecone
PINECONE_API_KEY=
PINECONE_ENVIRONMENT=

# Qdrant
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=

# Weaviate
WEAVIATE_URL=http://localhost:8080
WEAVIATE_API_KEY=

# ChromaDB (local)
CHROMA_PERSIST_DIRECTORY=./chroma_db

# ===========================================
# Web Search API Keys
# ===========================================
TAVILY_API_KEY=
SERPAPI_API_KEY=
BING_API_KEY=

# ===========================================
# Google OAuth 2.0 (for Google Services)
# ===========================================
# Create credentials at: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:8000/api/auth/google/callback

# ===========================================
# Knowledge Graph (Neo4j)
# ===========================================
NEO4J_URI=bolt://localhost:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=

# ===========================================
# Security
# ===========================================
# Secret key for encrypting API keys in MongoDB
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
ENCRYPTION_KEY=

# JWT Secret (if using authentication)
JWT_SECRET=
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# ===========================================
# Model Defaults
# ===========================================
DEFAULT_MODEL=qwen2.5:0.5b
DEFAULT_EMBEDDING_MODEL=text-embedding-3-small
DEFAULT_TEMPERATURE=0.7
DEFAULT_MAX_TOKENS=2048

# ===========================================
# Feature Flags
# ===========================================
ENABLE_AGENTIC_ROUTING=true
ENABLE_GOOGLE_SERVICES=true
ENABLE_STREAMING=true
ENABLE_TOOL_CALLS=true

# ===========================================
# Rate Limiting
# ===========================================
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_TOKENS_PER_MINUTE=100000

# ===========================================
# File Upload
# ===========================================
MAX_UPLOAD_SIZE_MB=50
ALLOWED_EXTENSIONS=.pdf,.txt,.md,.csv,.json,.docx,.xlsx,.pptx,.png,.jpg,.jpeg,.gif,.mp3,.wav,.mp4
UPLOAD_DIRECTORY=./uploads

# ===========================================
# Tracing & Monitoring
# ===========================================
ENABLE_TRACING=false
LANGSMITH_API_KEY=
LANGSMITH_PROJECT=beanllm-playground
